#include "./gui.hh"

int main(int argc, char **argv)
{
	app_location = *argv;
	Glib::RefPtr<Gtk::Application> app = Gtk::Application::create(argc, argv, "com.tusharchaurasia.todogui");
	builder = Gtk::Builder::create_from_string("<\?xml version=\"1.0\" encoding=\"UTF-8\"\?>\n<!-- Generated with glade 3.38.2 -->\n<interface>\n\t<requires lib=\"gtk+\" version=\"3.24\" />\n\t<object class=\"GtkWindow\" id=\"main_window\">\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"title\" translatable=\"yes\">Todo GUI</property>\n\t<property name=\"window-position\">center</property>\n\t<child>\n\t<object class=\"GtkNotebook\" id=\"g_notebook\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"tab-pos\">left</property>\n\t<property name=\"scrollable\">True</property>\n\t<property name=\"enable-popup\">True</property>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkScrolledWindow\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"shadow-type\">in</property>\n\t<property name=\"propagate-natural-width\">True</property>\n\t<property name=\"propagate-natural-height\">True</property>\n\t<child>\n\t<object class=\"GtkTextView\" id=\"main_table\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"editable\">False</property>\n\t<property name=\"cursor-visible\">False</property>\n\t<property name=\"monospace\">True</property>\n\t</object>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t</object>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Table</property>\n\t</object>\n\t<packing>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkEntry\" id=\"add_desc\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkCalendar\" id=\"add_date\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"show-week-numbers\">True</property>\n\t<property name=\"show-details\">False</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkButton\" id=\"add_btn\">\n\t<property name=\"label\" translatable=\"yes\">Add Task</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">2</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Add</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">1</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkEntry\" id=\"remove_ind\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"input-purpose\">digits</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkCheckButton\" id=\"remove_all\">\n\t<property name=\"label\" translatable=\"yes\">Remove All</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">False</property>\n\t<property name=\"draw-indicator\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkButton\" id=\"remove_btn\">\n\t<property name=\"label\" translatable=\"yes\">Remove Task</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">2</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">2</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Remove</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">2</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkEntry\" id=\"edit_id\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"input-purpose\">digits</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkEntry\" id=\"edit_desc\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkCalendar\" id=\"edit_date\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">2</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkButton\" id=\"edit_btn\">\n\t<property name=\"label\" translatable=\"yes\">Edit Task</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">3</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">3</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Edit</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">3</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkEntry\" id=\"compt_id\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"input-purpose\">digits</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkButton\" id=\"compt_btn\">\n\t<property name=\"label\" translatable=\"yes\">Complete Task</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">4</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Complete</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">4</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkCheckButton\" id=\"sort_order\">\n\t<property name=\"label\" translatable=\"yes\">Ascending Order</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">False</property>\n\t<property name=\"active\">True</property>\n\t<property name=\"draw-indicator\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkComboBoxText\" id=\"sort_select_col\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkButton\" id=\"sort_btn\">\n\t<property name=\"label\" translatable=\"yes\">Sort</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">2</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">5</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Sort</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">5</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkSearchEntry\" id=\"search_key\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"primary-icon-name\">edit-find-symbolic</property>\n\t<property name=\"primary-icon-activatable\">False</property>\n\t<property name=\"primary-icon-sensitive\">False</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkScrolledWindow\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"shadow-type\">in</property>\n\t<property name=\"propagate-natural-width\">True</property>\n\t<property name=\"propagate-natural-height\">True</property>\n\t<child>\n\t<object class=\"GtkTextView\" id=\"search_table\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"editable\">False</property>\n\t<property name=\"cursor-visible\">False</property>\n\t<property name=\"monospace\">True</property>\n\t</object>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">6</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Search</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">6</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkFileChooserButton\" id=\"export_open\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"do-overwrite-confirmation\">True</property>\n\t<property name=\"show-hidden\">True</property>\n\t<property name=\"title\" translatable=\"yes\">Export</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkButton\" id=\"export_btn\">\n\t<property name=\"label\" translatable=\"yes\">Export</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">7</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Export</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">7</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkFileChooserButton\" id=\"import_open\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"do-overwrite-confirmation\">True</property>\n\t<property name=\"show-hidden\">True</property>\n\t<property name=\"title\" translatable=\"yes\">Import</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkButton\" id=\"import_btn\">\n\t<property name=\"label\" translatable=\"yes\">Import</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">8</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Import</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">8</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkButton\" id=\"normal_btn\">\n\t<property name=\"label\" translatable=\"yes\">Normalize</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">9</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">Normalize</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">9</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkBox\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"orientation\">vertical</property>\n\t<child>\n\t<object class=\"GtkButton\" id=\"about_libs\">\n\t<property name=\"label\" translatable=\"yes\">Libraries Used</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">0</property>\n\t</packing>\n\t</child>\n\t<child>\n\t<object class=\"GtkButton\" id=\"about_help\">\n\t<property name=\"label\" translatable=\"yes\">Help</property>\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">True</property>\n\t<property name=\"receives-default\">True</property>\n\t</object>\n\t<packing>\n\t<property name=\"expand\">False</property>\n\t<property name=\"fill\">True</property>\n\t<property name=\"position\">1</property>\n\t</packing>\n\t</child>\n\t</object>\n\t<packing>\n\t<property name=\"position\">10</property>\n\t</packing>\n\t</child>\n\t<child type=\"tab\">\n\t<object class=\"GtkLabel\">\n\t<property name=\"visible\">True</property>\n\t<property name=\"can-focus\">False</property>\n\t<property name=\"label\" translatable=\"yes\">About</property>\n\t</object>\n\t<packing>\n\t<property name=\"position\">10</property>\n\t<property name=\"tab-fill\">False</property>\n\t</packing>\n\t</child>\n\t</object>\n\t</child>\n\t</object>\n</interface>");

	init_variables();
	init_database();
	main_window->set_default_size(1024, 800);
	main_window->maximize();

#if defined _WIN32 || defined _WIN64 || defined __CYGWIN__
	Glib::RefPtr<Gtk::Settings> settings = Gtk::Settings::get_default();
	settings->property_gtk_application_prefer_dark_theme().set_value(true);
	settings->property_gtk_font_name().set_value("JetBrains Mono SemiBold 12");
#endif

	app->run(*main_window);

	remove_variables();

	return EXIT_SUCCESS;
}